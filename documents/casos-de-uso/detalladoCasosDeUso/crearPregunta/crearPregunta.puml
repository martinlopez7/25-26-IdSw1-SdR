@startuml crearPregunta

skinparam linetype polyline

' 1. ESTADO PREVIO (Contexto de origen: Banco de Preguntas)
state PREGUNTAS_ABIERTO

' 2. TRANSICIÓN DE ENTRADA
PREGUNTAS_ABIERTO -[#green]-> crearPregunta
note on link
crearPregunta()
end note

' 3. EL CASO DE USO (Caja negra detallada)
state crearPregunta as "crearPregunta()" {

    state " " as SolicitandoDatosPregunta
    state " " as ProcesandoCreacion

    [*] -[#green]-> SolicitandoDatosPregunta 
    note on link
    <b>Docente</b> solicita crear nueva pregunta
    end note    
    
    SolicitandoDatosPregunta -[#green]-> ProcesandoCreacion
    note on link
    <b>Sistema</b> presenta una solicitud de datos mínimos:
    ---
    <b>Pregunta:</b>
    • Asignatura (obligatorio)
    • Enunciado (obligatorio)
    • Tema (obligatorio)
    • Dificultad (ENUM: BAJA, MEDIA, ALTA)(obligatorio)
    ---
    <b>Respuestas (Obligatoria):</b>
    • Contenido de la respuesta
    • Correcta/incorrecta (Flag)
    ---
    • Permite confirmar creación
    • Permite cancelar operación
    end note
    
    ProcesandoCreacion -[#green]-> [*]
    note on link
    <b>Usuario</b> proporciona todos los datos requeridos.
    <b>Sistema</b> valida integridad (campos no nulos).
    <b>Sistema</b> persiste Pregunta + Respuesta (Transacción).
    end note
}

' 4. SALIDAS DEL CASO DE USO

' Flujo Exitoso: Va al detalle para seguir editando (añadir más respuestas, imágenes, etc.)
crearPregunta -[#green]-> PREGUNTA_ABIERTO
note on link
editarPregunta(nuevaPregunta)
end note

' Flujo Alternativo: Cancela y vuelve al banco de preguntas
crearPregunta -[#blue]-> PREGUNTAS_ABIERTO
note on link
cancelar creación
end note

@enduml