@startuml
skinparam linetype polyline

state EXAMENES_ASIGNADOS_CONTEXTUALES
state PREGUNTAS_CONTEXTUALES_ABIERTO
state ASIGNATURAS_ABIERTO
state ASIGNATURAS_ABIERTO1 as "ASIGNATURAS_ABIERTO"
state ASIGNATURA_ABIERTO
state ASIGNATURAS_ABIERTO2 as "ASIGNATURAS_ABIERTO"
state ASIGNATURA_ABIERTO2 as "ASIGNATURA_ABIERTO"
state PREGUNTAS_CONTEXTUALES_ABIERTO1 as "PREGUNTAS_CONTEXTUALES_ABIERTO"
state EXAMENES_CORREGIDOS as "EXAMENES_CORREGIDOS"

EXAMENES_CORREGIDOS -[#green]-> editarAsignatura
EXAMENES_ASIGNADOS_CONTEXTUALES -[#green]-> editarAsignatura
PREGUNTAS_CONTEXTUALES_ABIERTO -[#green]-> editarAsignatura
ASIGNATURAS_ABIERTO -[#green]-> editarAsignatura
ASIGNATURA_ABIERTO -[#green]-> editarAsignatura

state editarAsignatura as "editarAsignatura()" {

    state " " as EditandoDatos
    state " " as GuardandoDatos 

    [*] -[#green]-> EditandoDatos 
    note on link
    <b>Docente</b> solicita editar asignatura
    end note    
    
    EditandoDatos -[#green]-> GuardandoDatos
    note on link
    <b>Sistema</b> presenta datos de edición

    <b>Datos Asignatura:</b>
    • Título
    • Código
    • Curso Académico
    • Alumnos matriculados
    • Grados asociados
    • Batería de preguntas
    
    <b>Sistema</b> permite solicitar:
    • modificar campos
    • guardar asignatura
    • cancelar edición
    • ver preguntas
    • generar examen
    • eliminar
    end note
    
    GuardandoDatos -[#green]-> EditandoDatos
    note on link
    <b>Docente</b> solicita modificar campos
    end note
    
    GuardandoDatos -[#green]-> [*]
    note on link
    <b>Docente</b> solicita guardar y salir
    end note

    GuardandoDatos -[#red]-> [*]
    note on link
    <b>Docente</b> solicita cancelar edición
    end note
    
    GuardandoDatos -[#blue]-> [*]
    note on link
    <b>Docente</b> solicita ver preguntas
    end note
    
    GuardandoDatos -[#yellow]-> [*]
    note on link
    <b>Docente</b> solicita generar examen
    end note
    
    GuardandoDatos -[#orange]-> [*]
    note on link
    <b>Docente</b> solicita eliminar
    end note
}

editarAsignatura -[#green]-> ASIGNATURA_ABIERTO2
note on link
Guardar
end note
' Nota: He mantenido la cancelación hacia la lista general, 
' pero si prefieres que al cancelar también vaya a ASIGNATURA_ABIERTO, 
' puedes cambiar el destino abajo.
editarAsignatura -[#red]-> ASIGNATURAS_ABIERTO2
note on link
cancelar edición
end note

editarAsignatura -[#yellow]-> EXAMENES_GENERADOS_CONTEXTUALES
note on link
generar examen
end note

editarAsignatura -[#blue]-> PREGUNTAS_CONTEXTUALES_ABIERTO1
note on link
ver preguntas
end note

editarAsignatura -[#orange]-> ASIGNATURAS_ABIERTO1
note on link
eliminar
end note



@enduml