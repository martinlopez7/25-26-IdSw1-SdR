@startuml editarAsignatura

skinparam linetype polyline

' 1. ESTADO PREVIO (Contexto de origen: Listado de Asignaturas)
state ASIGNATURAS_ABIERTO

' 2. ENTRADA AL CASO DE USO
ASIGNATURAS_ABIERTO -[#green]-> editarAsignatura
note on link
editarAsignatura(asignatura)
end note

' 3. DETALLE DEL PROCESO
state editarAsignatura as "editarAsignatura(asignatura)" {

    state " " as EditandoDatos
    state " " as GuardandoDatos 

    [*] -[#green]-> EditandoDatos 
    note on link
    <b>Docente/Admin</b> solicita editar una asignatura
    existente
    end note    
    
    EditandoDatos -[#green]-> GuardandoDatos
    note on link
    <b>Sistema</b> presenta datos de edición
    (Recuperados de BDD):
    ---
    <b>Datos Asignatura:</b>
    • Título [Valor Actual]
    • Código [Valor Actual]
    • Curso Académico [Valor Actual]
    ---
    <b>Opciones de Navegación (Vínculos):</b>
    • Acceso a ver listado de Alumnos
    • Acceso a ver Grados asociados
    ---
    <b>Sistema</b> permite solicitar:
    • modificar campos
    • guardar asignatura
    • cancelar edición
    end note
    
    ' Ciclo de modificación (Patrón Interactivo)
    GuardandoDatos -[#green]-> EditandoDatos
    note on link
    <b>Usuario</b> solicita modificar campos
    (Corrige o cambia datos)
    end note
    
    ' Salida Exitosa (Interna)
    GuardandoDatos -[#green]-> [*]
    note on link
    <b>Usuario</b> solicita guardar y salir
    end note

    ' Salida Cancelada (Interna)
    GuardandoDatos -[#red]-> [*]
    note on link
    <b>Usuario</b> solicita cancelar edición
    end note
}

' 4. SALIDAS EXTERNAS

' Salida Exitosa con CONFIRMACIÓN
editarAsignatura -[#green]-> ASIGNATURAS_ABIERTO
note on link
<b>Sistema</b> confirma: "Asignatura actualizada"
verAsignaturas()
end note

' Salida Cancelada
editarAsignatura -[#red]-> ASIGNATURAS_ABIERTO
note on link
cancelar edición
end note

' 5. NAVEGACIÓN TRANSVERSAL (Saltos de contexto)
editarAsignatura -[#orange]-> ALUMNOS_ABIERTO
note on link
verAlumnos(asignatura)
end note

editarAsignatura -[#orange]-> GRADOS_ABIERTO
note on link
verGrados(asignatura)
end note

@enduml